(this["webpackJsonpquiz-app"]=this["webpackJsonpquiz-app"]||[]).push([[0],{28:function(e,t,n){},49:function(e,t,n){"use strict";n.r(t);var c=n(1),s=n.n(c),a=n(20),r=n.n(a),i=(n(28),n(23)),o=n(8),l=n(10),u=n(11),j=n.n(u),d=n(21),b=n(3),h=n(22),m=n.n(h),O=n(0),f={sports:21,history:23,politics:24},x=Object(c.createContext)(),p=function(e){var t=e.children,n=Object(c.useState)(!0),s=Object(b.a)(n,2),a=s[0],r=s[1],i=Object(c.useState)(!1),u=Object(b.a)(i,2),h=u[0],p=u[1],g=Object(c.useState)([]),v=Object(b.a)(g,2),y=v[0],N=v[1],q=Object(c.useState)(0),w=Object(b.a)(q,2),C=w[0],S=w[1],k=Object(c.useState)(0),z=Object(b.a)(k,2),F=z[0],M=z[1],_=Object(c.useState)(!1),I=Object(b.a)(_,2),L=I[0],T=I[1],P=Object(c.useState)({amount:10,category:"sports",difficulty:"easy"}),A=Object(b.a)(P,2),B=A[0],D=A[1],H=Object(c.useState)(!1),J=Object(b.a)(H,2),Q=J[0],E=J[1],Y=function(){var e=Object(d.a)(j.a.mark((function e(t){var n,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(!0),r(!1),e.next=4,m()(t).catch((function(e){return console.log(e)}));case 4:(n=e.sent)?(c=n.data.results).length>0?(N(c),p(!1),r(!1),T(!1)):(r(!0),p(!0)):r(!0);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),G=function(){S((function(e){var t=e+1;return t>y.length-1?(E(!0),0):t}))};return Object(O.jsx)(x.Provider,{value:{waiting:a,loading:h,questions:y,index:C,correct:F,error:L,modal:Q,nextQuestion:G,checkAnswers:function(e){e&&M((function(e){return e+1})),G()},closeModal:function(){E(!1),r(!0),M(0)},quiz:B,handleChange:function(e){var t=e.target.name,n=e.target.value;D(Object(l.a)(Object(l.a)({},B),{},Object(o.a)({},t,n)))},handleSubmit:function(e){e.preventDefault();var t=B.amount,n=B.difficulty,c=B.category,s="https://opentdb.com/api.php?amount=".concat(t,"&difficulty=").concat(n,"&category=").concat(f[c],"&type=multiple");Y(s)}},children:t})},g=function(){return Object(c.useContext)(x)},v=function(){var e=g(),t=e.quiz,n=e.handleChange,c=e.handleSubmit,s=e.error;return Object(O.jsx)("main",{children:Object(O.jsx)("section",{className:"quiz quiz-small",children:Object(O.jsxs)("form",{className:"setup-form",children:[Object(O.jsx)("h2",{children:"setup quiz"}),Object(O.jsxs)("div",{className:"form-control",children:[Object(O.jsx)("label",{htmlFor:"amount",children:"number of questions"}),Object(O.jsx)("input",{type:"number",name:"amount",id:"amount",value:t.amount,onChange:n,className:"form-input",min:1,max:50})]}),Object(O.jsxs)("div",{className:"form-control",children:[Object(O.jsx)("label",{htmlFor:"category",children:"category"}),Object(O.jsxs)("select",{name:"category",id:"category",className:"form-input",value:t.category,onChange:n,children:[Object(O.jsx)("option",{value:"sports",children:"sports"}),Object(O.jsx)("option",{value:"history",children:"history"}),Object(O.jsx)("option",{value:"politics",children:"politics"})]})]}),Object(O.jsxs)("div",{className:"form-control",children:[Object(O.jsx)("label",{htmlFor:"difficulty",children:"difficulty"}),Object(O.jsxs)("select",{name:"difficulty",id:"difficulty",className:"form-input",onChange:n,value:t.difficulty,children:[Object(O.jsx)("option",{value:"ease",children:"easy"}),Object(O.jsx)("option",{value:"medium",children:"medium"}),Object(O.jsx)("option",{value:"hard",children:"difficult"})]})]}),s&&Object(O.jsx)("p",{className:"error",children:"can't generates questions , pls try again"}),Object(O.jsx)("button",{type:"submit",className:"submit-btn",onClick:c,children:"start"})]})})})},y=function(){return Object(O.jsx)("main",{children:Object(O.jsx)("div",{className:"loading"})})},N=function(){var e=g(),t=e.modal,n=e.closeModal,c=e.correct,s=e.questions;return Object(O.jsx)("div",{className:"".concat(t?"modal-container isOpen":"modal-container"),children:Object(O.jsxs)("div",{className:"modal-content",children:[Object(O.jsx)("h2",{children:"congrats"}),Object(O.jsxs)("p",{children:["You answered ",(c/s.length*100).toFixed(0),"%"]}),Object(O.jsx)("button",{className:"close-btn",onClick:n,children:"play again"})]})})};var q=function(){var e=g(),t=e.waiting,n=e.loading,c=e.questions,s=e.index,a=e.correct,r=e.nextQuestions,o=e.checkAnswers;if(t)return Object(O.jsx)(v,{});if(n)return Object(O.jsx)(y,{});var l=c[s],u=l.incorrect_answers,j=l.correct_answer,d=l.question,b=Object(i.a)(u),h=Math.floor(4*Math.random());return 3===h?b.push(j):(b.push(b[h]),b[h]=j),Object(O.jsxs)("main",{children:[Object(O.jsx)(N,{}),Object(O.jsxs)("section",{className:"quiz",children:[console.log(c),Object(O.jsxs)("p",{className:"correct-answers",children:["correct answers: ",a,"/",s]}),Object(O.jsxs)("article",{className:"container",children:[Object(O.jsx)("h2",{dangerouslySetInnerHTML:{__html:d}}),Object(O.jsx)("div",{className:"btn-container",children:b.map((function(e,t){return Object(O.jsx)("button",{className:"answer-btn",onClick:function(){return o(j===e)},dangerouslySetInnerHTML:{__html:e}},t)}))})]}),Object(O.jsx)("button",{className:"next-question",onClick:r,children:"next questions"})]})]})},w=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,50)).then((function(t){var n=t.getCLS,c=t.getFID,s=t.getFCP,a=t.getLCP,r=t.getTTFB;n(e),c(e),s(e),a(e),r(e)}))};r.a.render(Object(O.jsx)(s.a.StrictMode,{children:Object(O.jsx)(p,{children:Object(O.jsx)(q,{})})}),document.getElementById("root")),w()}},[[49,1,2]]]);
//# sourceMappingURL=main.6bac645a.chunk.js.map